(function(){"use strict";const I=[{hour:1,residential:.08,commercial:.15,Industrial:1,Community:.15},{hour:2,residential:.08,commercial:.15,Industrial:1,Community:.15},{hour:3,residential:.12,commercial:.15,Industrial:1,Community:.15},{hour:4,residential:.12,commercial:.15,Industrial:1,Community:.15},{hour:5,residential:.22,commercial:.15,Industrial:1,Community:.25},{hour:6,residential:.3,commercial:.15,Industrial:1,Community:.43},{hour:7,residential:.5,commercial:.15,Industrial:1,Community:.58},{hour:8,residential:.38,commercial:.55,Industrial:1,Community:.65},{hour:9,residential:.32,commercial:1,Industrial:1,Community:.65},{hour:10,residential:.32,commercial:1,Industrial:1,Community:.65},{hour:11,residential:.38,commercial:1,Industrial:1,Community:.65},{hour:12,residential:.4,commercial:1,Industrial:1,Community:.65},{hour:13,residential:.55,commercial:1,Industrial:1,Community:.65},{hour:14,residential:.48,commercial:1,Industrial:1,Community:.65},{hour:15,residential:.3,commercial:1,Industrial:1,Community:.65},{hour:16,residential:.3,commercial:1,Industrial:1,Community:.65},{hour:17,residential:.3,commercial:1,Industrial:1,Community:.75},{hour:18,residential:.55,commercial:.82,Industrial:1,Community:.84},{hour:19,residential:1,commercial:.65,Industrial:1,Community:1},{hour:20,residential:.78,commercial:.55,Industrial:1,Community:1},{hour:21,residential:.55,commercial:.15,Industrial:1,Community:1},{hour:22,residential:.48,commercial:.15,Industrial:1,Community:1},{hour:23,residential:.22,commercial:.15,Industrial:1,Community:.75},{hour:24,residential:.12,commercial:.15,Industrial:1,Community:.43}],m={residential:.9,commercial:.8,industrial:.75,community:.85},v={residential:1,commercial:.95,industrial:.9,community:.95};self.onmessage=function(r){console.log("Worker received message: ",r.data);const i=r.data,a={activeFeederBreakers:4,remainingESSEnergy:50,totalESSEnergy:100,totalGensetPower:200,essChargeState:1},t=Array.from({length:24},(n,l)=>P({...a,variables:i,index:l}));self.postMessage(t)};function P({activeFeederBreakers:r,remainingESSEnergy:i,totalESSEnergy:a,totalGensetPower:t,essChargeState:n,variables:l,index:s}){const e=I[s%24].commercial*1e3*.95*1,c=Math.random()*(v.commercial-m.commercial)+m.commercial,u=Math.sqrt((e/c)**2-e**2),o=500*Math.random()*1*.7;let d=r,h=0,C=0;const w=500;let y=i;return d=4,e-o<0&&i<a&&(h=u,C=Math.min(o-e,w),y=i+1/1*C),{index:s,activeFeederBreakers:d,remainingESSEnergy:y,totalESSEnergy:a,totalGensetPower:t,essChargeState:n,realLoad:e,powerFactor:c,reactiveLoad:u,availablePVPower:o,essReactivePowerContribution:h}}})();
